<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>"2023. 4. 25.-오후 2:47:46"</title>
<link rel="shortcut icon" type="image/x-icon" href="../images/SiSt.ico">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.4/jquery.min.js"></script>
<style>
    div{
        width: 300px;
        height: 100px;
        background-color: yellow;
        border: 1px solid black;
    }
</style>
</head>
<body>
<h3>css 2D 변환</h3>
<pre>
    2D 변환 - 이동, 회전, 크기, 기울기
    transform 속성
        :translate()
        :rotate()
        :scale()
        :skew()
        :matrix()
</pre>

<input type="radio" name="direction" value="1" checked="checked">시계방향
<input type="radio" name="direction" value="-1">반시계방향

<br>

<button>회전 시작</button>
<button disabled="disabled">회전 멈춤</button>

<p>.</p>
<p>.</p>
<p>.</p>

<div>Lorem ipsum dolor sit amet, consectetur adipisicing elit. Ipsam iste nemo et mollitia laudantium neque magnam ratione perferendis dicta, fuga optio voluptatibus aut id error! Eveniet nesciunt</div>
<script>
    //변수를 2개 선언을 해야한다.
    var angle = 1; //회전할때 회전 각도
    var direction = 1; //회전 방향 라디오 버튼이 누가 체크가 되는냐에 따라 1또는 -1 값을 저장하도록 하겠다.
    // 나중에 코딩으로 값을 읽어와서 담겠다.

    

    

    // 회전 시작 버튼 클릭
    document.querySelector("button:first-of-type").onclick=function() {
        //시계방향으로 회전할지, 반시계 방향으로 회전할지 처리
        //1) 라디오 버튼 체크
        var radios = document.querySelectorAll("input[name=direction]");
        // alert(radios.length); //2


        //2) 체크된 라디오 버튼의 value값이 1, -1을 읽어와서
        for(var i=0; i<radios.length; i++){
            console.log(radios[i].checked + "/" + radios[i].value);
            if(radios[i].checked == true){
                direction=radios[i].value;
                break;
            }
        }
        //3) direction = 1, -1 대입


        //일정한 간격으로 target_rotate()힘수가 호출되면
        //          함수등록
        timer = setInterval(target_rotate, 10);
        
        this.disabled="true"; //비활성화
        document.querySelector("button:last-of-type").disabled=false; //활성화
    }

    function target_rotate(){
        //회전코딩 시작
        var target = document.querySelector("div");
        //style transform:rotate(20deg) -> js 코딩
        target.style.transform="rotate("+angle+"deg)";

        //js에서 문자열 "1"을 -> 숫자형 1로 바꾸는 함수가 parseInt()
        angle += parseInt(direction);
        console.log(">angle: " + angle);

        //회전코딩 종료
    };


    // 회전 멈춤 버튼 클릭
    document.querySelector("button:last-of-type").onclick=function() {

        //멈추겠다. 
        clearInterval(timer);

        this.disabled="true"; //비활성화
        document.querySelector("button:first-of-type").disabled=false; //활성화
    }
</script>
</body>
</html>